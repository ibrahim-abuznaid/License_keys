# Visual Overview - License Key Manager

## ðŸŽ¨ Application Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SALES TEAM DASHBOARD                       â”‚
â”‚                  (http://localhost:3000)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Welcome Header & Stats Cards      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      KEY GENERATION FORM               â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ Customer Email                   â”‚  â”‚
        â”‚  â”‚ Deployment: â—‰ Cloud / â—‹ Self    â”‚  â”‚
        â”‚  â”‚ Valid Days: [14]                 â”‚  â”‚
        â”‚  â”‚ Preset: [Business â–¼]            â”‚  â”‚
        â”‚  â”‚ Features: â˜‘ Templates           â”‚  â”‚
        â”‚  â”‚          â˜‘ SSO                  â”‚  â”‚
        â”‚  â”‚          â˜‘ API Access           â”‚  â”‚
        â”‚  â”‚ â˜‘ Send email to customer       â”‚  â”‚
        â”‚  â”‚                                  â”‚  â”‚
        â”‚  â”‚   [Generate License Key]         â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   SUPABASE DB     â”‚  â”‚   RESEND EMAIL   â”‚
        â”‚  Store License    â”‚  â”‚  Send Trial Key  â”‚
        â”‚      Key          â”‚  â”‚    to Customer   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      KEY MANAGEMENT TABLE              â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ Search: [customer@email.com]     â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
        â”‚  â”‚Email  â”‚Key    â”‚Type â”‚Statusâ”‚Actionsâ”‚â”‚
        â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
        â”‚  â”‚john@..â”‚AP-XX..â”‚TRIALâ”‚ACTIVEâ”‚+Days  â”‚â”‚
        â”‚  â”‚       â”‚       â”‚     â”‚      â”‚Close  â”‚â”‚
        â”‚  â”‚       â”‚       â”‚     â”‚      â”‚Email  â”‚â”‚
        â”‚  â”‚       â”‚       â”‚     â”‚      â”‚Disableâ”‚â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ Key Workflows

### 1. Generate Trial Key Flow

```
Sales Team                 Application              Database              Customer
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚  Fill Form & Submit      â”‚                       â”‚                     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                     â”‚
    â”‚                          â”‚  Generate Key         â”‚                     â”‚
    â”‚                          â”‚  (AP-XXXX-XXXX...)   â”‚                     â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚                          â”‚  Insert Key           â”‚                     â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚                          â”‚  Send Email           â”‚                     â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚  Success! âœ“              â”‚                       â”‚  Receives Email âœ“   â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚                     â”‚
```

### 2. Extend Trial Flow

```
Sales Team                 Application              Database
    â”‚                          â”‚                       â”‚
    â”‚  Click "+Days"           â”‚                       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
    â”‚                          â”‚                       â”‚
    â”‚  Enter days (7)          â”‚                       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
    â”‚                          â”‚                       â”‚
    â”‚                          â”‚  Update expires_at    â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                          â”‚                       â”‚
    â”‚                          â”‚  Log to history       â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                          â”‚                       â”‚
    â”‚  Extended âœ“              â”‚                       â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
```

### 3. Deal Closed Flow

```
Sales Team                 Application              Database              Customer
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚  Click "Close"           â”‚                       â”‚                     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                     â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚  Enter Flow Limit (1000) â”‚                       â”‚                     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                     â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚                          â”‚  Convert Trial â†’ Dev  â”‚                     â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚                          â”‚  Create Prod Key      â”‚                     â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚                          â”‚  Send Welcome Email   â”‚                     â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                          â”‚                       â”‚  (Dev + Prod keys)  â”‚
    â”‚                          â”‚                       â”‚                     â”‚
    â”‚  Deal Closed âœ“           â”‚                       â”‚  Receives Email âœ“   â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚                     â”‚
```

## ðŸ“Š Database Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              license_keys TABLE                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚ UUID (Primary Key)               â”‚
â”‚ key          â”‚ TEXT (Unique) "AP-XXXX-XXXX..." â”‚
â”‚ customer_emailâ”‚ TEXT                            â”‚
â”‚ deployment   â”‚ ENUM (cloud/self-hosted)         â”‚
â”‚ key_type     â”‚ ENUM (trial/dev/prod)           â”‚
â”‚ status       â”‚ ENUM (active/disabled/expired)  â”‚
â”‚ features     â”‚ JSONB {"templates": true, ...}  â”‚
â”‚ created_at   â”‚ TIMESTAMP                        â”‚
â”‚ activated_at â”‚ TIMESTAMP (nullable)             â”‚
â”‚ expires_at   â”‚ TIMESTAMP (nullable)             â”‚
â”‚ active_flows â”‚ INTEGER (nullable)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ has many
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             key_history TABLE                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚ UUID (Primary Key)               â”‚
â”‚ key_id       â”‚ UUID (Foreign Key)               â”‚
â”‚ action       â”‚ TEXT (created/extended/...)      â”‚
â”‚ performed_by â”‚ TEXT                             â”‚
â”‚ performed_at â”‚ TIMESTAMP                        â”‚
â”‚ details      â”‚ JSONB                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“ File Architecture

```
License_keys/
â”‚
â”œâ”€â”€ ðŸŽ¨ Frontend Layer
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx         â† Root layout with nav
â”‚   â”‚   â”œâ”€â”€ page.tsx           â† Main dashboard page
â”‚   â”‚   â””â”€â”€ globals.css        â† Global styles
â”‚   â”‚
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ KeyGenerationForm.tsx    â† Form to create keys
â”‚       â””â”€â”€ KeyManagementTable.tsx   â† Table to manage keys
â”‚
â”œâ”€â”€ ðŸ”Œ Backend Layer (API Routes)
â”‚   â””â”€â”€ app/api/keys/
â”‚       â”œâ”€â”€ route.ts                  â† GET list, POST create
â”‚       â””â”€â”€ [id]/
â”‚           â”œâ”€â”€ extend/route.ts       â† POST extend trial
â”‚           â”œâ”€â”€ deal-closed/route.ts  â† POST close deal
â”‚           â”œâ”€â”€ disable/route.ts      â† POST disable key
â”‚           â””â”€â”€ send-email/route.ts   â† POST send email
â”‚
â”œâ”€â”€ ðŸ”§ Utilities Layer
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ types.ts          â† TypeScript definitions
â”‚       â”œâ”€â”€ supabase.ts       â† Database client
â”‚       â”œâ”€â”€ key-generator.ts  â† Key generation logic
â”‚       â””â”€â”€ email-service.ts  â† Email templates & sending
â”‚
â”œâ”€â”€ ðŸ—„ï¸ Database Layer
â”‚   â””â”€â”€ supabase/migrations/
â”‚       â””â”€â”€ 001_initial_schema.sql   â† Database schema
â”‚
â”œâ”€â”€ âš™ï¸ Configuration
â”‚   â”œâ”€â”€ package.json          â† Dependencies
â”‚   â”œâ”€â”€ tsconfig.json         â† TypeScript config
â”‚   â”œâ”€â”€ tailwind.config.js    â† Tailwind config
â”‚   â”œâ”€â”€ next.config.js        â† Next.js config
â”‚   â””â”€â”€ postcss.config.js     â† PostCSS config
â”‚
â””â”€â”€ ðŸ“š Documentation
    â”œâ”€â”€ README.md              â† Full documentation
    â”œâ”€â”€ SETUP_GUIDE.md         â† Installation guide
    â”œâ”€â”€ QUICK_REFERENCE.md     â† Sales team guide
    â”œâ”€â”€ DEPLOYMENT_CHECKLIST.mdâ† Deploy checklist
    â”œâ”€â”€ PROJECT_SUMMARY.md     â† Project overview
    â””â”€â”€ VISUAL_OVERVIEW.md     â† This file
```

## ðŸŽ¯ Component Interaction Map

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Browser    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Generation     â”‚    â”‚  Management    â”‚
        â”‚     Form       â”‚    â”‚     Table      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  API Routes  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Supabase  â”‚  â”‚Key Generatorâ”‚  â”‚Activepieces â”‚
    â”‚ (Database) â”‚  â”‚   (NanoID)  â”‚  â”‚  (Webhook)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸŽ¨ UI Layout Breakdown

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nav Bar                                                â”‚
â”‚  [Activepieces License Manager]      [Sales Dashboard] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Welcome Banner (Gradient)              â”‚   â”‚
â”‚  â”‚    Welcome to License Key Manager               â”‚   â”‚
â”‚  â”‚    Generate, manage, and deliver keys           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚Quick      â”‚  â”‚Track &    â”‚  â”‚Upgrade    â”‚          â”‚
â”‚  â”‚Actions    â”‚  â”‚Extend     â”‚  â”‚Plans      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Generate License Key                            â”‚   â”‚
â”‚  â”‚                                                 â”‚   â”‚
â”‚  â”‚  Customer Email: [____________________]        â”‚   â”‚
â”‚  â”‚  Deployment:     ( ) Cloud ( ) Self-Hosted    â”‚   â”‚
â”‚  â”‚  Valid Days:     [14]                         â”‚   â”‚
â”‚  â”‚  Preset:         [Business â–¼]                 â”‚   â”‚
â”‚  â”‚  Features:       â˜‘ Templates  â˜‘ SSO          â”‚   â”‚
â”‚  â”‚                  â˜‘ API Access â˜ Embed        â”‚   â”‚
â”‚  â”‚                  â˜‘ Send trial key email      â”‚   â”‚
â”‚  â”‚                                                â”‚   â”‚
â”‚  â”‚         [Generate License Key]                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ License Keys                        [Refresh]   â”‚   â”‚
â”‚  â”‚                                                 â”‚   â”‚
â”‚  â”‚  Search: [customer@email.com] [Search] [Clear] â”‚   â”‚
â”‚  â”‚                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚Email â”‚Keyâ”‚Typeâ”‚Statusâ”‚Deployâ”‚Createdâ”‚Actionsâ”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚  â”‚john@.â”‚AP.â”‚TRIAâ”‚ACTIVEâ”‚cloud â”‚Jan 15â”‚+Dayâ”‚  â”‚   â”‚
â”‚  â”‚  â”‚      â”‚   â”‚L   â”‚      â”‚      â”‚      â”‚Closâ”‚  â”‚   â”‚
â”‚  â”‚  â”‚      â”‚   â”‚    â”‚      â”‚      â”‚      â”‚Emaiâ”‚  â”‚   â”‚
â”‚  â”‚  â”‚      â”‚   â”‚    â”‚      â”‚      â”‚      â”‚Disaâ”‚  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚  â”‚sarah.â”‚AP.â”‚DEV â”‚ACTIVEâ”‚self  â”‚Jan 10â”‚Emaiâ”‚  â”‚   â”‚
â”‚  â”‚  â”‚      â”‚   â”‚    â”‚      â”‚      â”‚      â”‚Disaâ”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                 â”‚   â”‚
â”‚  â”‚  Showing 2 license keys                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“§ Email Template Preview

### Trial Key Email

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ACTIVEPIECES (Header)             â”‚
â”‚    Welcome to Activepieces!              â”‚
â”‚         (Purple Gradient)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Hello,                                  â”‚
â”‚                                          â”‚
â”‚  Thank you for your interest...          â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Your License Key:              â”‚      â”‚
â”‚  â”‚ AP-XXXX-XXXX-XXXX-XXXX        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                          â”‚
â”‚  Trial Details:                          â”‚
â”‚  â€¢ Deployment: Cloud                     â”‚
â”‚  â€¢ Valid Until: Jan 29, 2024            â”‚
â”‚  â€¢ Features: Templates, SSO, ...         â”‚
â”‚                                          â”‚
â”‚  Activation Instructions:                â”‚
â”‚  1. Log in to dashboard                 â”‚
â”‚  2. Navigate to Settings â†’ License      â”‚
â”‚  3. Enter key and activate              â”‚
â”‚                                          â”‚
â”‚  Need help?                              â”‚
â”‚  ðŸ“§ support@activepieces.com            â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Welcome Email (Deal Closed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ACTIVEPIECES (Header)             â”‚
â”‚    ðŸŽ‰ Welcome to Activepieces!           â”‚
â”‚         (Purple Gradient)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Congratulations! Your purchase...       â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Development Key:               â”‚      â”‚
â”‚  â”‚ AP-XXXX-XXXX-XXXX-XXXX        â”‚      â”‚
â”‚  â”‚ Use for dev/staging            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Production Key:                â”‚      â”‚
â”‚  â”‚ AP-YYYY-YYYY-YYYY-YYYY        â”‚      â”‚
â”‚  â”‚ Use for production             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                          â”‚
â”‚  Plan Details:                           â”‚
â”‚  â€¢ Deployment: Cloud                     â”‚
â”‚  â€¢ Active Flows: 1000                    â”‚
â”‚  â€¢ Expiry: Never (Perpetual)            â”‚
â”‚                                          â”‚
â”‚  Next Steps:                             â”‚
â”‚  1. Activate both keys                   â”‚
â”‚  2. Explore documentation                â”‚
â”‚  3. Join community                       â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Environment Variables            â”‚
â”‚  (Never committed to git)                    â”‚
â”‚  â€¢ Supabase Service Key                      â”‚
â”‚  â€¢ Email Webhook URL                         â”‚
â”‚  â€¢ Database credentials                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client Side  â”‚    â”‚  Server Side     â”‚
â”‚               â”‚    â”‚  (API Routes)    â”‚
â”‚  Public Key   â”‚    â”‚  Service Key     â”‚
â”‚  (Read only)  â”‚    â”‚  (Full access)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Supabase DB   â”‚
                    â”‚   (RLS enabled) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸš€ Deployment Flow

```
Local Development          Git Repository          Production
      â”‚                          â”‚                      â”‚
      â”‚  1. Test & Build         â”‚                      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
      â”‚                          â”‚                      â”‚
      â”‚                          â”‚  2. Deploy           â”‚
      â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                          â”‚                      â”‚
      â”‚                          â”‚  3. Build            â”‚
      â”‚                          â”‚                      â”‚
      â”‚                          â”‚  4. Start            â”‚
      â”‚                          â”‚                      â”‚
      â”‚                          â”‚  âœ“ Live              â”‚
      â”‚                          â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                          â”‚                      â”‚
      â”‚  5. Verify               â”‚                      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
```

## ðŸ’¡ Data Flow Example

**Scenario: Generate a trial key for john@company.com**

```
Step 1: Form Submission
   â†“
POST /api/keys
   body: {
     customer_email: "john@company.com",
     deployment: "cloud",
     features: ["templates", "sso"],
     valid_days: 14
   }
   â†“
Step 2: Key Generation
   generateLicenseKey() â†’ "AP-A7F2-K9L3-M4N8-P2Q5"
   â†“
Step 3: Database Insert
   INSERT INTO license_keys (
     key: "AP-A7F2-K9L3-M4N8-P2Q5",
     customer_email: "john@company.com",
     features: {"templates": true, "sso": true},
     expires_at: "2024-01-29T00:00:00Z"
   )
   â†“
Step 4: Email Sending
   sendTrialKeyEmail({
     to: "john@company.com",
     licenseKey: {...}
   })
   â†“
Step 5: Response
   {
     "data": {
       "id": "uuid-here",
       "key": "AP-A7F2-K9L3-M4N8-P2Q5",
       "customer_email": "john@company.com",
       ...
     }
   }
```

## ðŸŽ‰ Result

A fully functional, production-ready license key management system that:

âœ… Generates keys instantly
âœ… Delivers emails automatically
âœ… Tracks all operations
âœ… Scales with your business
âœ… Beautiful and easy to use
âœ… Well documented

---

**Ready to use!** Follow SETUP_GUIDE.md to get started.

